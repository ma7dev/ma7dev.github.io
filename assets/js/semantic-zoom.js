document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".article-content h2, .article-content h3");if(!e.length)return;e.forEach(e=>{const n=document.createElement("button");n.className="semantic-zoom-toggle",n.setAttribute("aria-expanded","true"),n.innerHTML='\n      <svg class="chevron-down" width="16" height="16" viewBox="0 0 16 16">\n        <path fill="currentColor" d="M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"></path>\n      </svg>\n    ',e.appendChild(n);let t=[],o=e.nextElementSibling;for(;o&&o.tagName!==e.tagName&&("H3"!==e.tagName||"H2"!==o.tagName);)t.push(o),o=o.nextElementSibling;n.addEventListener("click",function(o){o.preventDefault();const a="true"===n.getAttribute("aria-expanded");n.setAttribute("aria-expanded",!a),t.forEach(e=>{e.style.display=a?"none":""}),e.classList.toggle("semantic-zoom-collapsed",!a)})});const n=document.createElement("style");n.textContent="\n    .semantic-zoom-toggle {\n      background: transparent;\n      border: none;\n      color: var(--global-theme-color);\n      cursor: pointer;\n      padding: 0 0.5rem;\n      margin-left: 0.5rem;\n      transition: transform 0.2s ease;\n    }\n    \n    .semantic-zoom-collapsed .semantic-zoom-toggle {\n      transform: rotate(-90deg);\n    }\n    \n    .semantic-zoom-toggle:hover {\n      opacity: 0.8;\n    }\n    \n    .semantic-zoom-toggle:focus {\n      outline: none;\n      box-shadow: 0 0 0 2px rgba(var(--global-theme-color-rgb), 0.3);\n      border-radius: 4px;\n    }\n  ",document.head.appendChild(n)});